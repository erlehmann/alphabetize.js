function alphabetize(c){return c.replace(/ /g,"").split("").sort(asort).join("\u200b")}function asort(d,f){if(d.charCodeAt(0)<=64){if(f.charCodeAt(0)<=64){if(d>f){return 1}if(d<f){return -1}}if(65<=f.charCodeAt(0)<=122){return 1}if(f.charCodeAt(0)>=123){return -1}}if(f.charCodeAt(0)<=64){if(65<=d.charCodeAt(0)<=122){return -1}if(d.charCodeAt(0)>=123){return 1}}var e=String(d).toUpperCase();var c=String(f).toUpperCase();if(e>c){return 1}if(e<c){return -1}return 0}var xPathResult=document.evaluate('.//text()[normalize-space(.) != ""]',document.body,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(var i=0,l=xPathResult.snapshotLength;i<l;i++){var textNode=xPathResult.snapshotItem(i);if(textNode!=null){textNode.data=alphabetize(textNode.data)}}function luminance(c){return((0.299*c[0])+(0.587*c[1])+(0.114*c[2]))*(1/c[3])}function isort(d,f){var e=luminance(d);var c=luminance(f);if(e>c){return 1}if(e<c){return -1}return 0}function luminize(k){var j=document.createElement("canvas");var m=j.getContext("2d");var f=k.width;var o=k.height;j.width=f;j.height=o;m.drawImage(k,0,0);try{var c=m.getImageData(0,0,f,o)}catch(n){var j=document.createElement("canvas");var m=j.getContext("2d");j.width=f;j.height=o;var c=m.createImageData(f,o);r=parseInt(Math.random()*256);g=parseInt(Math.random()*256);b=parseInt(Math.random()*256);a=256;for(y=0;y<o;y++){outpos=y*f*4;for(x=0;x<f;x++){if(Math.random()<0.00001){r=parseInt(Math.random()*256);g=parseInt(Math.random()*256)}if(Math.random()<0.00001){g=parseInt(Math.random()*256);b=parseInt(Math.random()*256)}if(Math.random()<0.00001){b=parseInt(Math.random()*256);r=parseInt(Math.random()*256)}if(Math.random()<0.001){a=parseInt(Math.random()*256)}c.data[outpos++]=r-4+parseInt(Math.random()*4);c.data[outpos++]=g-4+parseInt(Math.random()*4);c.data[outpos++]=b-4+parseInt(Math.random()*4);c.data[outpos++]=a-4+parseInt(Math.random()*4)}}}var h=new Array(0);for(y=0;y<o;y++){inpos=y*f*4;for(x=0;x<f;x++){var d=new Array(4);d[0]=c.data[inpos++];d[1]=c.data[inpos++];d[2]=c.data[inpos++];d[3]=c.data[inpos++];h.push(d)}}h=h.sort(isort);for(y=0;y<o;y++){outpos=y*f*4;for(x=0;x<f;x++){d=h.pop();c.data[outpos++]=d[0];c.data[outpos++]=d[1];c.data[outpos++]=d[2];c.data[outpos++]=d[3]}}m.putImageData(c,0,0,0,0,c.width,c.height);return j.toDataURL()}function luminizeDelayLoop(){if(i<images.length){var c=images[i];if(c.src.slice(0,5)!="data:"){c.src=luminize(c)}i++;window.setTimeout("luminizeDelayLoop()",100)}}var images=document.getElementsByTagName("img");var i=0;luminizeDelayLoop();